<!DOCTYPE html>




<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link href="http://fonts.googleapis.com/css?family=Exo+2:700|Open+Sans:400italic,400&subset=latin,cyrillic" rel="stylesheet" type="text/css">
    <title>Allure JUnit integration</title>
    <meta name="viewport" content="width=device-width">

    <link  href="//yandex.st/bootstrap/3.0.2/css/bootstrap.min.css" rel="stylesheet">
    <link  href="//fotorama.s3.amazonaws.com/4.4.8/fotorama.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/main.css">

    <script src="//yandex.st/jquery/2.0.3/jquery.min.js"></script>
    <script src="//fotorama.s3.amazonaws.com/4.4.8/fotorama.js"></script>
</head>
<body>

<header class="header">
    <div class="container">
        <h1 class="title"><a href="/">Allure Framework</a></h1>
        <ul class="menu">
            <li><a class="menu__title" href="/">Home</a></li>
            
            
            <li class="menu__menu java">
                
                <span class="menu__title">java</span>
                <ul class="dropdown">
                
                    <li class="dropdown__item"><a href="/langs/java/junit.html">junit</a></li>
                
                    <li class="dropdown__item"><a href="/langs/java/testng.html">testng</a></li>
                
                </ul>
            </li>
            
            <li class="menu__menu javascript">
                
                <span class="menu__title">javascript</span>
                <ul class="dropdown">
                
                    <li class="dropdown__item"><a href="/langs/javascript/karma.html">karma</a></li>
                
                </ul>
            </li>
            
            <li class="menu__menu python">
                
                <span class="menu__title">python</span>
                <ul class="dropdown">
                
                    <li class="dropdown__item"><a href="/langs/python/pytest.html">pytest</a></li>
                
                </ul>
            </li>
            
            <li>
                
                    <a class="menu__title" href="/ru/">По-русски</a>
                
            </li>
        </ul>
        <div class="pull-right">
            <a class="qatools" href="http://qatools.ru"></a>
        </div>
    </div>
</header>
<div class="page content container">
<h2>Allure JUnit integration module</h2>

<p>To use <strong>Allure</strong> with <strong>JUnit</strong>, just add following code to your <strong>pom.xml</strong>:</p>
<div class="highlight"><pre><code class="xml language-xml" data-lang="xml"><span class="c">&lt;!--Allure version, needed here for allure-maven-plugin. It can be moved to parent pom.--&gt;</span>
<span class="nt">&lt;properties&gt;</span>
    <span class="nt">&lt;allure.version&gt;</span>1.2.2<span class="nt">&lt;/allure.version&gt;</span>
<span class="nt">&lt;/properties&gt;</span>

<span class="c">&lt;!--This dependency is necessary for Allure JUnit plugin. It can be moved to parent pom.--&gt;</span>
<span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>ru.yandex.qatools.allure<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>allure-junit-adaptor<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>${allure.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>

<span class="c">&lt;!--Allure JUnit plugin. It can be moved to parent pom. --&gt;</span>
<span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>ru.yandex.qatools.allure<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>allure-junit-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>${allure.version}<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;executions&gt;</span>
                <span class="nt">&lt;execution&gt;</span>
                    <span class="nt">&lt;phase&gt;</span>test-compile<span class="nt">&lt;/phase&gt;</span>
                    <span class="nt">&lt;goals&gt;</span>
                        <span class="nt">&lt;goal&gt;</span>allure<span class="nt">&lt;/goal&gt;</span>
                    <span class="nt">&lt;/goals&gt;</span>
                <span class="nt">&lt;/execution&gt;</span>
            <span class="nt">&lt;/executions&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/build&gt;</span>

<span class="c">&lt;!--Allure Maven Plugin. It can be moved to parent pom--&gt;</span>
<span class="nt">&lt;reporting&gt;</span>
    <span class="nt">&lt;excludeDefaults&gt;</span>true<span class="nt">&lt;/excludeDefaults&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>ru.yandex.qatools.allure<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>allure-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>${allure.version}<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
<span class="nt">&lt;/reporting&gt;</span>
</code></pre></div>
<h3>Steps and attachments</h3>

<p>You can add steps to your tests just annotate step-methods with
<strong>@ru.yandex.qatools.allure.annotations.Step</strong> annotation:</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@Step</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">openPageByAddress</span><span class="o">(</span><span class="n">String</span> <span class="n">pageAddress</span><span class="o">)</span> <span class="o">{</span>
     <span class="o">...</span>
 <span class="o">}</span>
</code></pre></div>
<p>If you need to save attachment until the test is performed you can create attach-method.
This method should be annotated with <strong>@ru.yandex.qatools.allure.annotations.Attach</strong> and
return <strong>java.lang.String</strong> or <strong>java.io.File</strong>.</p>

<p>Returned value will be copied and added to your Allure Report as attachment.</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="nd">@Attach</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">saveLog</span><span class="o">(</span><span class="n">Logger</span> <span class="n">logger</span><span class="o">)</span> <span class="o">{</span>
    <span class="o">...</span>
<span class="o">}</span>
</code></pre></div>
<p>Click <a href="https://github.com/allure-framework/allure/blob/master/docs/steps-and-attachments.md">here</a> to see more information about steps and attachments.</p>

</div>

<footer class="footer">
    <div class="container">
        <span>
            <span class="contact">Allure Framework</span>
            <span class="contact">
                <a href="https://github.com/allure-framework">GitHub</a>
            </span>
            <span class="contact"><a href="mailto:allure@yandex-team.ru">allure@yandex-team.ru</a></span>
        </span>
        <div class="strut"></div>
    </div>
</footer>

</body>
</html>
